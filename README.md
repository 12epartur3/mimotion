# 小米运动自动刷步数

> 使用Github Actions每天定时执行程序，自动刷小米运动步数，并自动同步至微信、支付宝、QQ等小米运动支持的第三方平台。

## 小米运动APP绑定第三方接入

### 一、手机下载小米运动APP，使用手机号形式登录小米运动APP

### 二、绑定第三方接入平台

1、进入小米运动主界面后，选择右下方我的选项。

2、点击进入我的后，选择第三方接入的选项进入。 

3、 进入后，可以看到支持的第三方接入的应用，选择微信进入。 

4、 点击进入后，我们选择下方的接入选项。 

5、 点击后会跳转到微信中，点击绑定设备即可。 

以上是绑定微信运动，支付宝、QQ同样操作。 


## Github Actions 部署指南

### 一、Fork 此仓库

### 二、设置账号密码

操作如下：

> Settings-->Secrets-->New secret-->依次添加USER、PWD、STEP 变量

添加名为 **USER**、**PWD**、**STEP** 的变量，值分别为 **账号（仅支持手机号）**、**密码**、**步数（0则为18000-25000之间随机 或自定义随机范围[20000-30000]）**

### 三、多账户(用不上请忽略)

多账户请用 **#** 分割，然后保存到变量 **USER**、**PWD** 和 **STEP**

#### 例如

**13800138000#13800138001** 变量 **USER**

**abc123qwe#abcqwe2** 变量 **PWD**

**0#15000-30000** 变量 **STEP**

### 四、自定义启动时间

编辑 **.github/workflows/run.yml**

找到 `cron: 0 x * * *`

修改其中的x为你需要修改的时间。

需要运行的时间-8就是UTC时间。

#### 例如

您需要将程序修改为上午9点执行，那么9-8=1，所以将文件**.github/workflows/run.yml**中`cron: 0 10  * * *`修改为`cron: 0 1  * * *`

### 五、启动

> Actions-->点击“I understand my workflows, go ahead and enable them”-->All workflows-->刷步数-->点击“Enable workflow”

## 注意事项

1. 每天运行一次，在配置中设定的时间点

2. 多账户的数量和密码请一定要对上 不然无法使用

3. 启动时间得是UTC时间

4. 如果支付宝没有更新步数,到小米运动->设置->账号->注销账号->清空数据,然后重新登录,重新绑定第三方
